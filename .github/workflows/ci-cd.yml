  docker-build-push:
    name: Build e Push Imagem Docker
    runs-on: ubuntu-latest
    needs: build-and-test  
    
    steps:
      - name: üì• Checkout c√≥digo
        uses: actions/checkout@v4
      
      - name: üîß Configurar Docker Buildx
        uses: docker/setup-buildx-action@v3
      
      # ========== DEBUG TEMPOR√ÅRIO ==========
      - name: üîç DEBUG - Verificar secrets
        run: |
          echo "Username length: ${#DOCKER_USER}"
          echo "Token length: ${#DOCKER_TOKEN}"
          echo "Username starts with: ${DOCKER_USER:0:5}..."
          if [ -z "$DOCKER_USER" ]; then echo "‚ùå USERNAME VAZIO!"; fi
          if [ -z "$DOCKER_TOKEN" ]; then echo "‚ùå TOKEN VAZIO!"; fi
        env:
          DOCKER_USER: ${{ secrets.DOCKERHUB_USERNAME }}
          DOCKER_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
      # =======================================
      
      - name: üîê Login no Docker Hub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}
